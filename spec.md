Build an interactive web app to help users understand the basics of Feng Shui based on the Bagua model, and how Qimen Dunjia (a type of Chinese divination) can be integrated into it.

SPECIFICATIONS:

**Purpose:** To build an interactive web app helping users understand the basics of Feng Shui based on the 后天八卦 (Houtian Ba Gua) / 九宫格 (Jiu Gong Ge) model, the fundamentals of 五行 (Wu Xing), and how 奇门遁甲 (Qimen Dunjia) Eight Gates (八门) can be conceptually integrated. This app serves as a foundational learning tool for the "水到奇成" course.

**General Requirements:**

1.  The app should be a single, self-contained HTML document using only inline HTML, CSS, and JavaScript. No external libraries are allowed.
2.  The visual style must be clean, easily readable, and fully responsive, functioning properly on both desktop and mobile devices.
3.  A clear title "后天八卦 (Houtian Ba Gua) / 九宫格 (Jiu Gong Ge) Foundations" should be displayed above the main grid.

**Detailed Specifications:**

1.  **Central Element: The Ba Gua Grid**
    *   The app will present a 3x3 grid. This grid is the central interactive element.
    *   The center cell of the grid will remain visually distinct (e.g., slightly different background) but will not be clickable for detailed information in the Ba Gua-only mode. It can be labeled "中宫 (Zhong Gong - Central Palace)".

2.  **Ba Gua Mode (Default View):**
    *   Each of the 8 outer cells in the grid should be clearly labeled with:
        *   Its corresponding **Trigram Symbol** (e.g., ☰, ☵, ☶, ☳, ☴, ☲, ☷, ☱).
        *   Its **Trigram Name** (乾 Qian, 坎 Kan, 艮 Gen, 震 Zhen, 巽 Xun, 离 Li, 坤 Kun, 兑 Dui).
        *   Its associated **Direction** (西北 Northwest, 北 North, 东北 Northeast, 东 East, 东南 Southeast, 南 South, 西南 Southwest, 西 West).
    *   A subtle background color tint representing the cell's primary Element can be applied to each of the 8 outer cells (e.g., light blue for Water, light green for Wood).

3.  **Interactivity in Ba Gua Mode:**
    *   Users must be able to click on each of the 8 outer cells.
    *   Upon clicking a cell, a designated information panel (e.g., a modal popup or a dedicated section on the page) should appear, displaying the following attributes for the selected cell:
        *   **Trigram Symbol** and **Trigram Name**.
        *   **Direction** (e.g., "North - contains the 子 Zi, 壬 Ren, 癸 Gui mountains used for precise orientation in advanced Feng Shui"). *This introduces the 24 Mountains concept subtly.*
        *   **Element** associated with that trigram (水 Water, 土 Earth, 木 Wood, 火 Fire, 金 Metal).
        *   A short sentence describing the **general qualities or aspects of life** that trigram represents (e.g., "乾 (Qian) represents Heaven, strength, and leadership.", "坎 (Kan) represents Water, challenges, and introspection.").
        *   A concise description of what that **Element in that position can enhance** (e.g., "The Water element in the North can enhance career flow and wisdom.").
        *   **五行 (Wu Xing) Interactions:**
            *   "Generates: [Element it generates] (e.g., Water generates Wood)"
            *   "Controls: [Element it controls] (e.g., Water controls Fire)"
            *   "Is Generated By: [Element that generates it] (e.g., Water is generated by Metal)"
            *   "Is Controlled By: [Element that controls it] (e.g., Water is controlled by Earth)"

4.  **Qimen Dunjia Overlay Mode:**
    *   A clearly visible button labeled "Overlay Qimen Dunjia Gates (八门)" must be present.
    *   When this button is clicked (toggled on):
        *   A new set of labels representing the **Eight Gates (八门)** (开 Kai, 休 Xiu, 生 Sheng, 伤 Shang, 杜 Du, 景 Jing, 死 Si, 惊 Jing) should appear prominently on each of the 8 outer cells, *in addition* to the existing Ba Gua labels (Trigram Symbol, Name, Direction).
        *   Each cell will be labeled with the specific Gate that **originates** from (corresponds to) its Ba Gua location.
        *   The Central Palace ("中宫") cell, when the Qimen overlay is active, should display a simple, generic star symbol (e.g., ★ or ☆) without further interactive detail, representing the conceptual presence of a "star" in Qimen charts.
    *   The button should act as a toggle (e.g., text changes to "Remove Qimen Overlay" or its state is visually indicated).

5.  **Interactivity in Qimen Dunjia Overlay Mode:**
    *   When the "Overlay Qimen Dunjia Gates" mode is active, clicking on each of the 8 outer cells should update the information panel to display:
        *   **All information from Ba Gua Mode (Spec 3)** for context.
        *   **AND additional Qimen Gate Information:**
            *   **Gate Name** (e.g., "开门 (Kai Men) - Open Gate").
            *   **Original Palace & Derived Element:** "Originates from [Original Ba Gua Palace Name, e.g., 乾 (Qian) Palace]. Derived Elemental Nature: [Gate's Element, e.g., 金 (Metal)]."
            *   A sentence describing the **general properties of the Gate** (e.g., "The Open Gate (开门) is generally auspicious for new beginnings, career, and ventures.").
            *   **Conceptual Interaction Explanation (Setting Stage for Course):**
                *   "In this foundational view, the [Gate Name] is shown in its home palace, the [Palace Name]. Here, its elemental nature ([Gate's Element]) is aligned with the palace's element ([Palace's Element]), representing its most fundamental state."
                *   "The '水到奇成' course will teach how this Gate's energy dynamically changes and interacts when it moves to *other* palaces in a time-specific Qimen Dunjia chart. Unfavorable interactions or specific negative conditions (known as '四害 - Si Hai' or 'problem indicators') in those dynamic contexts are key to advanced analysis and will be covered in the course."

6.  **Static Informational Sections (Accessible, e.g., via links/buttons or as collapsible sections):**
    *   **A. "About 五行 (Wu Xing - The Five Elements)":**
        *   A clear, concise explanation of the Five Elements.
        *   Visual diagrams illustrating:
            *   The **Generating Cycle (相生 Xiangsheng)** with brief descriptions (e.g., "Wood feeds Fire...").
            *   The **Controlling Cycle (相克 Xiangke)** with brief descriptions (e.g., "Fire melts Metal...").
    *   **B. "About Directions & 二十四山 (24 Mountains)":**
        *   Explanation: "While the Ba Gua provides 8 main directions (each 45 degrees), traditional Feng Shui and the '水到奇成' method often use a more precise directional system called the 24 Mountains (二十四山)."
        *   Explanation: "Each of the 8 Ba Gua directions is further subdivided into three 'Mountains' (each approximately 15 degrees), allowing for more specific orientation."
        *   Explanation: "A special compass called a Luopan (罗盘) is used to determine the exact 'Mountain' a building faces or sits on. This app introduces the Ba Gua foundation; the '水到奇成' course will delve into the application of the 24 Mountains with Qimen Dunjia."
    *   **C. "About this App & Next Steps":**
        *   Briefly explain that this app covers foundational concepts for the "水到奇成" course.
        *   Mention that the course will expand on these by teaching how to interpret dynamic Qimen charts, identify "四害" (problem indicators), and apply this knowledge practically using the 24 Mountains.

The app must be fully responsive and function properly on both desktop and mobile and it supports Chinese (default) and English. Provide the code as a single, self-contained HTML document. All styles and scripts must be inline. In the result, encase the code between "```" and "```" for easy parsing.